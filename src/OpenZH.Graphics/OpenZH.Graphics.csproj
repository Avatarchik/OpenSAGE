<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>uap10.0;Xamarin.iOS10</TargetFrameworks>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="MSBuild.Sdk.Extras" Version="1.0.5" PrivateAssets="All" />

    <Compile Remove="Platforms\**\*.cs" />
    <None Include="Platforms\**\*.cs" />

    <Compile Remove="**\*.D3D12.cs" />
    <None Include="**\*.D3D12.cs" />

    <Compile Remove="**\*.Metal.cs" />
    <None Include="**\*.Metal.cs" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'uap10.0' ">
    <Compile Include="Platforms\Direct3D12\**\*.cs" />
    <Compile Include="Platforms\UWP\**\*.cs" />
    <Compile Include="**\*.D3D12.cs" />
    <PackageReference Include="SharpDX.Direct3D12" Version="4.0.1" />
    <PackageReference Include="SharpDX.D3DCompiler" Version="4.0.1" />
  </ItemGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'Xamarin.iOS10' ">
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  </PropertyGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'Xamarin.iOS10' ">
    <Compile Include="Platforms\Metal\**\*.cs" />
    <Compile Include="Platforms\iOS\**\*.cs" />
    <Compile Include="Platforms\Apple\**\*.cs" />
    <Compile Include="**\*.Metal.cs" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'Xamarin.Mac20' ">
    <Compile Include="Platforms\Metal\**\*.cs" />
    <Compile Include="Platforms\Apple\**\*.cs" />
    <Compile Include="**\*.Metal.cs" />
  </ItemGroup>

  <ItemGroup>
    <None Remove="Platforms\Direct3D12\DescriptorTablePool.cs" />
  </ItemGroup>

  <Import Project="$(MSBuildSDKExtrasTargets)" Condition="Exists('$(MSBuildSDKExtrasTargets)')" />

</Project>